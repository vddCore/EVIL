fn init()
{
    io.println("hello, world");
    ttl = 100;
    value_test = 37;
}

fn callback_a()
{
    while (true) {
        while (value_test != 37) skip;

        io.println("hi, i'm callback a: " + @value_test);
        value_test = 21;

        if (ttl-- <= 0) {
            break;
        }
        else {
            io.println(ttl);
        }
    }
}

fn callback_b(arg)
{
    while (true) {
        while (value_test != 21) skip;

        io.println("hi, i'm callback b(" + @arg + "): " + @value_test);
        value_test = 37;

        if (ttl-- <= 0) {
            break;
        }
        else {
            io.println(ttl);
        }
    }
}
